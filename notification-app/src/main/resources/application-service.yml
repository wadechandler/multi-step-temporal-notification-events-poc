# Profile: service
# Controllers, CQRS command handlers, DataSource, JPA, Flyway, Kafka for command topics.

spring:
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:30432}/${DB_NAME:business}
    username: ${DB_USER:app}
    password: ${BUSINESS_DB_PASSWORD:app}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  kafka:
    consumer:
      group-id: ${KAFKA_CONSUMER_GROUP_ID:notification-poc-service}
      auto-offset-reset: earliest

# Services (base URL for activity HTTP calls to CQRS endpoints)
services:
  base-url: ${SERVICES_BASE_URL:http://localhost:8080}
