---
# Conditional autoconfigure exclusions â€” only applied when service profile is NOT active.
# When running combined (local dev), the service profile handles DataSource/JPA/Flyway.
spring:
  config:
    activate:
      on-profile: "!service"
  autoconfigure:
    exclude:
      - org.springframework.boot.jdbc.autoconfigure.DataSourceAutoConfiguration
      - org.springframework.boot.hibernate.autoconfigure.HibernateJpaAutoConfiguration
      - org.springframework.boot.flyway.autoconfigure.FlywayAutoConfiguration
      - org.springframework.boot.data.jpa.autoconfigure.JpaRepositoriesAutoConfiguration

---
# Profile: wf-worker-orchestrator
# Workflow orchestration only (no activities). K8s deployment: notification-wf-worker.
# No DataSource, no Flyway, no Kafka consumer, no REST client.
# Web server runs only for actuator health/metrics.

spring:
  kafka:
    listener:
      auto-startup: false

temporal:
  connection:
    target: ${TEMPORAL_ADDRESS:localhost:7233}
